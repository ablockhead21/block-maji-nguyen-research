\begin{figure}[htp]
\begin{center}

\begin{adjustbox}{max width={\textwidth}, max height={.8\textheight}}

\begin{tikzpicture}[enode/.style={inner sep=0pt}]

\onslide<1-2,4->{
\node at (0,0) (X) {$X$};

\node at ($(X)+(0,-1)$) (x1) {$1$};
\node at ($(x1)+(0,-1)$) (x2) {$2$};
\node at ($(x2)+(0,-1)$) (xd1) {$\vdots$};
\node at ($(xd1)+(0,-1)$) (xn) {$n$};

\node[draw, ellipse, minimum height = 4cm, minimum width = 1cm] at ($(x1)!0.5!(xn)$) (e1) {};

}

%\draw ($(x1)!0.5!(xn)$) ellipse (.5cm and 2cm);

\onslide<1-3>{
\node at ($(X) + (.4\textwidth,0)$) (Y) {$Y$};

\node at ($(Y)+(0,-1)$) (y1) {$1$};
\node at ($(y1)+(0,-1)$) (y2) {$2$};
\node at ($(y2)+(0,-1)$) (yd1) {$\vdots$};
\node at ($(yd1)+(0,-1)$) (yn) {$n$};
\node at ($(yn)+(0,-1)$) (yd2) {$\vdots$};
\node at ($(yd2)+(0,-1)$) (y2n) {$2n$};

\node[draw, ellipse, minimum height = 6cm, minimum width = 1.2cm] at ($(y1)!0.5!(y2n)$) (e2) {};

}
%\draw ($(y1)!0.5!(y2n)$) ellipse (.6cm and 3cm);
\onslide<1,3->{
\node at ($(Y)+ (.4\textwidth,0)$) (Z) {$Z$};

\node at ($(Z)+(0,-1)$) (z1) {$1$};
\node at ($(z1)+(0,-1)$) (z2) {$2$};
\node at ($(z2)+(0,-1)$) (zd1) {$\vdots$};
\node at ($(zd1)+(0,-1)$) (zn) {$n$};
\node at ($(zn)+(0,-1)$) (zd2) {$\vdots$};
\node at ($(zd2)+(0,-1)$) (z2n) {$2n$};
\node at ($(z2n)+(0,-1)$) (zd3) {$\vdots$};
\node at ($(zd3)+(0,-1)$) (z3n) {$3n$};

\node[draw, ellipse, minimum height = 8cm, minimum width = 1.4cm] at ($(z1)!0.5!(z3n)$) (e3) {};

}

%\draw ($(z1)!0.5!(z3n)$) ellipse (.7cm and 4cm);

\onslide<2>{
	\foreach \x in {0,2,...,10}{
		\pgfmathsetmacro{\xtmp}{80-\x*15}
		\foreach \y in {0,2,...,10}{
			\pgfmathsetmacro{\ytmp}{100+\y*16}
			\draw (e1.\xtmp) -- (e2.\ytmp);
		}
	}
}

\onslide<3>{
	\foreach \y in {0,2,...,10}{
		\pgfmathsetmacro{\ytmp}{80-\y*15}
		\foreach \z in {0,2,...,10}{
			\pgfmathsetmacro{\ztmp}{100+\z*16}
			\draw (e2.\ytmp) -- (e3.\ztmp);
		}
	}
}

\onslide<4>{
	\foreach \x in {0,2,...,10}{
		\pgfmathsetmacro{\xtmp}{80-\x*15}
		\foreach \z in {0,2,...,10}{
			\pgfmathsetmacro{\ztmp}{100+\z*16}
			\draw (e1.\xtmp) -- (e3.\ztmp);
		}
	}
}

\end{tikzpicture}	
	
\end{adjustbox}

\only<2>{$E(X,Y) = \big\lbrace (x, x+s_i)\;\colon\; x\in [n], i \in [m], s_i \in S \big\rbrace$}
\only<3>{$E(Y,Z) = \big\lbrace (x+s_i, x+s_i+t_i)\;\colon\; x\in[n], i\in[m], s_i \in S, t_i \in T \big\rbrace$}
\only<4>{$E(X,Z) = \big\lbrace (x, x+s_i+t_i)\;\colon\; x\in[n], i\in[m], s_i \in S, t_i \in T \big\rbrace$}

\end{center}
\end{figure}