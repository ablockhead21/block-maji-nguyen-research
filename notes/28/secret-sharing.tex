\section{Secret Sharing}
In this section we describe the secret sharing scheme necessary for our combiner.
To begin, consider any matrix $G \in \zo^{k\times n+1}$ of the form $[I_{k\times k}\Vert P_{k\times n-k+1}]$ where $P$ is a random Toeplitz matrix.
For brevity we call such a $G$ a Toeplitz matrix, and only consider such matrices in this work.
We write $G = [G_0\Vert G']$, where $G_0$ is the first column of $G$.
Given $\cI \subseteq [n]$, we let $G_\cI$ to denote the columns of $G'$ indexed by $\cI$.

%We define when a set $\cI$ of columns is {\em qualified} or {\em unqualified} for $G_0$ in $G$.
\begin{definition}\label{def:qual}
	A set of columns $\cI \subseteq [n]$ in $G$ is {\em qualified} for $G_0$ if and only if $G_0$ is spanned by $G_\cI$.
	Otherwise, they are {\em unqualified}.
	
	We say $\cI \subseteq [n]$ is {\em minimally qualified} for $G_0$ if no proper subset of $\cI$ is qualified for $G_0$.
\end{definition}

\begin{lemma}\label{lem:min-qual-g}
	A set $\cI \subseteq [n]$ is minimally qualified for $G_0$ if and only if $G_0 = \xor_{i \in \cI}G_i'$, the columns $G_\cI'$ does not contain any all-zero columns, and no subset $\cI' \subseteq \cI$ satisfies $\xor_{i \in \cI'} G_i'=0$.
\end{lemma}
\begin{proof}
	Let $\cI$ be a minimally qualified set for $G_0$.
	This implies no proper subset of $\cI$ is qualified for $G_0$.
	First note if $G_\cI$ has some number of all-zero columns, we can construct a set $\cI' \subsetneq \cI$ such that $\cI'$ is qualified for $G_0$, contradicting minimality of $\cI$.
	Next, if $G_0 \neq \xor_{i \in \cI} G_i'$, we know that $G_0 \in \myspan{G_\cI}$.
	This implies there is a proper subset $\cI' \subset \cI$ such that $G_0 = \xor_{i \in \cI'} G_i'$, again contradicting minimality of $\cI$.
	Finally, suppose there is a subset $\cI' \subseteq \cI$ such that $0 = \xor_{i \in \cI'} G_i'$.
	By the previous case, we know that $G_0 = \xor_{i \in \cI} G_i'$.
	Let $\cI'' = \cI \setminus \cI'$.
	Note $\cI''$ is a proper subset of $\cI$.
	Then we have $G_0 = (\xor_{i \in \cI'} G_i') \xor (\xor_{i \in \cI''} G_i') = \xor_{i \in \cI''} G_i'$, again contradicting minimality of $\cI$.
	
	Next suppose $\cI \subseteq [n]$ is qualified and satisfies $G_0 = \xor_{i \in \cI} G'_i$, $G'_\cI$ contains no all-zero columns, and there is no subset $\cI' \subseteq \cI$ such that $\xor_{i \in \cI'} G_i' = 0$.
	Since $\cI$ is qualified, we have that $G_0 \in \myspan{G_\cI}$.
	If $\cI$ is not minimally qualified and there exists a proper subset $\cI'$ which is qualified, then the three assumptions are violated.
	So $\cI$ must be minimally qualified.\qed
\end{proof}

Consider a family of $[n+1,k,d]_2$ linear codes $\{C\}$ generated by a family of Toeplitz matrices $\{G\}$.
Let $\{C^\perp\}$ denote the family of $[n+1, n-k+1,d^\perp]_2$ codes generated by a family of matrices $\{H\}$.
Note that for any $G = [I_{k\times k} \Vert P]$, we have that $H = [P^\top\Vert I_{(n-k+1)\times (n-k+1)}]$.

\begin{lemma}\label{lem:qual}
	For any $\cI \subseteq [n]$, the following holds:
	\begin{align*}
		\Pr_G\left[\cI \text{ is qualified for } G_0\right] &< 2^{-k+|\cI|}\\
		\Pr_G\left[\cI \text{ is qualified for } H_0\right] &< 2^{-n+k-1+|\cI|}.
	\end{align*}
\end{lemma}
\begin{proof}
	Recall our family of matrices $\{G\}$ are of the form $[I_{k\times k}\Vert P]$, where $P$ is a random $k\times (n-k+1)$ binary Toeplitz matrix.
	Every $G$ defines the matrix $H$ as $H = [P^\top\Vert I_{(n-k+1)\times (n-k+1)}]$.
	Then we use the following lemma.
	\begin{importedlemma}[{\cite[Lemma 6]{C:GIMS15}}]
		Let $c$ be a fixed binary column of length $k$ and $T \subseteq N$.
		For a random binary Toeplitz matrix $P$ of dimension $k \times (n-k+1)$ and $G = [I_{k \times k}\Vert P]$, the probability that
		\begin{enumerate}
			\item $\sum_{i \in T} G_i = c$ is at most $2^{-k}$, and
			\item There exist $T' \subseteq T$ such that $\sum_{i \in T'} G_i = c$ is at most $2^{-k+|T|}$.
		\end{enumerate}
	\end{importedlemma}
	Then setting $c = G_0$ and $c= H_0$ separately, we have the desired result by noting $P^\top$ is a random binary Toeplitz matrix of dimension $(n-k+1) \times k$. \qed
\end{proof}

\begin{lemma}
	For any $\cI \subseteq [n]$ such that $|\cI| \geq k + \eps$ for $\eps > 0$, we have that
	\begin{align*}
		\Pr_G\left[ \cI \text{ is qualified for } G_0 \right] > 1-2^{blah}.
	\end{align*}
\end{lemma}
\begin{proof}
	Note that we can lower bound this probability by the following
	\begin{align*}
		\Pr_G\left[\cI \text{ is qualified for } G_0\right] \geq \Pr_G\left[G_\cI' \text{ has full rank}\right]
	\end{align*}
	using the observation that any $G_\cI'$ which has full rank $k$ is qualified for $G_0$.
	\textcolor{red}{Thus
	\begin{align*}
		\Pr_G\left[G_\cI' \text{ has full rank}\right] > \text{ something...}
	\end{align*}}
	which gives the result.\qed
\end{proof}


\subsection{Multi-value Secret Sharing Scheme}
Using a linear code space $C$ defined by a random Toeplitz matrix $G = [G_0\Vert G']$ of size $k \times n+1$, we define a multi-value secret sharing scheme for sharing any pair of messages $(m_0,m_1) \in \zo^2$ into $2n$ shares of $1$ bit each.

\begin{boxedalgo}
	\textbf{Multi-value Secret Sharing.}
	
	\textit{Input:} $(m_0,m_1 = (m_0 \xor v^*)) \in \zo^2$ and binary linear code $C$.
	
	\textit{Secret Sharing Phase:}
	\begin{enumerate}
		\item Sample $c_{m_0} = (m_0,u_1,\dotsc,u_n) \getsr C$ and $c_{v^*} = (v^*, v_1,\dotsc, v_n) \getsr C_{\pred{parity}}$.
		\item For $i \in [n]$, set $s_{i,0} = v_i$ and $s_{i,1} = u_i \xor v_i$.
	\end{enumerate}
	
	\textit{Output:} $(s_{i,0}, s_{i,1})$ for $i \in [n]$.
\end{boxedalgo}

For reconstruction of $v^*$, notice $v^* = \xor_{i \in [n]} s_{i,0}$ since $c_{v^*} \in C_{\pred{parity}}$.
For reconstruction of $m_0$, notice that any qualified set $\cI$ for $G_0$ satisfies $m_0 = \xor_{i \in \cI} (s_{i,0} \xor s_{i,1})$.
Finally, for reconstruction of $m_1$, we have $m_1 = (\xor_{i \in \cI} s_{i,1})\xor(\xor_{i \in [n]\setminus \cI} s_{i,0})$.
A set of shares $\{s_{i,j}\}$ is said to be {\em qualified} for $v^*$ (resp., $m_0$ or $m_1$) if they can be used to reconstruct $v^*$ (resp., $m_0$ or $m_1$).
\begin{myclaim}
	The above secret sharing scheme is linear.
\end{myclaim}
\begin{proof}
	We consider sharing two pairs of secrets $(u, w = u \xor v)$ and $(u', w' = u' \xor v')$.
	Consider then $(u\xor u', w\xor w')$.
	Notice $w\xor w' = (u \xor u') \xor (v \xor v')$.
	Let $u^* = u\xor u'$, $v^* = v\xor v'$, and $w^* = w\xor w'$.
	
	To share $(u,w)$, we sample $c_u = (u, u_1,\dotsc, u_n) \getsr C$ and $c_v = (v,v_1,\dotsc, v_n) \getsr C_\pred{parity}$, then set $s_{i,0} = v_i$ and $s_{i,1} = u_i\xor v_i$ for $i \in [n]$.
	Similarly for $(u',w')$, we have $c_{u'} = (u',u_1',\dotsc,u_n') \getsr C$ and $c_{v'} = (v',v_1',\dotsc,v_n') \getsr C_\pred{parity}$, then set $s'_{i_0} = v_i'$ and $s'_{i,1} = u_i' \xor v_i'$ for $i \in [n]$.
	
	Since $C$ and $C_\pred{parity}$ are linear codes, we have that $c_u \xor c_{u'} = (u^*, u_1\xor u_1',\dotsc u_n \xor u_n') \in C$ and $c_v \xor c_{v'} = (v^*, v_1 \xor v_1',\dotsc, v_n \xor v_n') \in C_\pred{parity}$.
	These two codewords produce the sharing $s^*_{i,0} = (v_i\xor v_i') = s_{i,0}\xor s_{i,0}'$ and $s^*_{i,1} = (u_i\xor u_i') \xor (v_i \xor v_i') = s_{i,1}\xor s_{i,1}'$ for $i \in [n]$.
	
	Finally, we show that $s^*_{i,j}$ can be used to reconstruct $(u^*, w^*)$.
	Let $\cI$ be qualified for $G_0$.
	Notice that for any codeword $c = (c_0, c_1,\dotsc,c_n) \in C$, $c_\cI$ can be used to reconstruct $c_0$.
	This implies that $u^* = \xor_{i \in \cI} (s_{i,0}^* \xor s_{i,1}^*) = \xor_{i \in \cI} s_{i,0}\xor s_{i,0}' \xor s_{i,1}\xor s_{i,1}'$ and $w^* = (\xor_{i \in \cI} s^*_{i,1})\xor (\xor_{i \in [n]\setminus \cI}s_{i,0}^*) = (\xor_{i \in \cI} s_{i,1}\xor s'_{i,1}) \xor (\xor_{i \in [n]\setminus \cI}s_{i,0}\xor s_{i,0}')$.
	Thus the scheme is linear. \qed
\end{proof}

\begin{myclaim}\label{clm:min-secret}
	A set $A \subseteq \{(i,j)\colon i \in [n], j \in \zo \}$ is minimally qualified for $v^*$ (resp., $m_0$ or $m_1$) if and only if the corresponding shares sum up to $v^*$ (resp., $m_0$ or $m_1$) and no proper subset of $A$ satisfies this property.
\end{myclaim}
\begin{proof}
	...
\end{proof}


\begin{lemma}\label{lem:min-qual-secret}
	The minimally qualified sets for reconstructing secrets are as follows:
	\begin{enumerate}
		\item The minimally qualified sets for reconstructing $v^*$ are of the form
		\begin{align*}
			A = \{ (i,a_i)\colon i \in [n], (0,a_1,\dotsc, a_n) \in C^\perp \}.
		\end{align*}
		\item The minimally qualified sets for reconstructing $m_1 = m_0 \xor v^*$ are of the form
		\begin{align*}
			A = \{ (i,a_i)\colon i \in [n], (1,a_1,\dotsc, a_n) \in C^\perp \}.
		\end{align*}
		\item The minimally qualified sets for reconstructing $m_0$ are of the form
		\begin{align*}
			A = (\cI,0) \union (\cI, 1),
		\end{align*}
		where $\cI$ is a minimally qualified set for $G_0$.
	\end{enumerate}
\end{lemma}
\begin{proof}
	Let $m_0$ be shared with codeword $(m_0, u_1,\dotsc, u_n) \in C$ and let $v^*$ be shared with codeword $(v^*, v_1,\dotsc,v_n) \in C_\parity$.
	We do case analysis on all subsets $A \subseteq \{ (i,j) \colon i \in [n], j \in \zo \}$.
	Given such a set we define $I_0, I_1, I_2 \subseteq [n]$ as follows
	\begin{align*}
		I_0 &= \{ i \colon (i,0) \in A \text{ and } (i,1)\not\in A\}\\
		I_1 &= \{ i \colon (i,0) \not\in A \text{ and } (i,1)\in A\}\\
		I_2 &= \{ i \colon (i,0) \in A \text{ and } (i,1)\in A\}.
	\end{align*}
	Then we have
	\begin{align*}
		\oplus_{(i,j) \in A} s_{i,j} &= \left(\oplus_{i \in I_0} s_{i,0}\right) \xor \left( \oplus_{i \in I_1} s_{i,1} \right) \xor \left( \oplus_{i \in I_2}(s_{i,0} \xor s_{i,1}) \right)\\
		&= \left( \xor_{i \in I_0} v_i \right) \xor \left( \xor_{i \in I_1} (u_i \xor v_i) \right) \xor \left(\xor_{i \in I_2} u_i\right).
	\end{align*}
	
	First suppose we have $\emptyset \subsetneq I_0 \union I_1 \subsetneq [n]$.
	Note this implies $I_2 \neq \emptyset$.
	Then we have
	\begin{align*}
		\oplus_{(i,j) \in A} s_{i,j} &= (\oplus_{i \in I_0\union I_1} v_i) \oplus (\oplus_{i \in I_1 \union I_2} u_i).
	\end{align*}
	Note that since $v_i$ were chosen according to $C_\parity$, $\xor_{I_0 \union I_1} v_i$ is uniformly distributed over $\zo$. 
	Thus $\oplus_{(i,j) \in A} s_{i,j}$ is uniformly distributed over $\zo$ and gives no information about the secrets.
	
	Next suppose $I_0 \union I_1 = [n]$. 
	This implies $I_2 = \emptyset$.
	Then we have
	\begin{align*}
		\xor_{(i,j)\in A} s_{i,j} &= (\xor_{i \in [n]} v_i) \xor (\xor_{i \in I_1} u_1) = \xor_{i \in [n]} (v_i \xor u_ix_i),
	\end{align*}
	where $x_i = 1$ if and only if $i \in I_1$ (that is, $(i,1) \in A$).
	Note that $\xor_{i \in [n]} u_i x_i = m_0b$ if $(b, x_1,\dotsc, x_n) \in C^\perp$, and otherwise $\xor_{i\in [n]} u_ix_i$ is distributed uniformly over $\zo$ by properties of the linear code $C$.
	Note also that $v^* = \xor_{i \in [n]} v_i$, so for $(b, x_1,\dotsc, x_n) \in C^\perp$, we have $\xor_{i \in [n]} (u_ix_i \xor v_i) = m_0b \xor v^*$, which gives $m_1 = m_0 \xor v^*$ if and only if $b = 1$, and gives $v^*$ if and only if $b = 0$.
	This implies $A = \{ (i, x_i)\colon i \in [n], (0,x_1,\dotsc, x_n) \in C^\perp \}$
	are qualified for $v^*$ and $A = \{ (i,x_i) \colon i\in[n], (1,x_1\dotsc,x_n) \in C^\perp \}$.
	To show these sets are minimal, it suffices to show that $A' = \{ (i, x_i) \colon i \in \cI,  (0,x_1,\dotsc, x_n) \in C^\perp\}$ for some $\cI \subsetneq [n]$ is not qualified.
	By properties of $C_\parity$, we know $\xor_{i \in \cI} v_i$ is uniformly distributed over $\zo$, so the reconstruction fails and $A'$ is not qualified.
	The argument is identical for $(1,x_1,\dotsc, x_n) \in C^\perp$.
	
	Finally suppose $I_2 = [n]$, which yields $I_0 \union I_1 = \emptyset$.
	This implies $A = (I_2, 0) \union (I_2, 1)$, and $\xor_{(i,j)\in A}s_{i,j} = \xor_{i \in I_2} u_i$.
	By properties of the linear code $C$, if $I_2$ is minimally qualified for $G_0$, we have that $m_0 = \xor_{i \in I_2} u_i$, and no proper subset of $I_2$ is qualified.
	Further, if $I_2$ is unqualified, $\xor_{i \in I_2} u_i$ is distributed uniformly over $\zo$, and if $I_2$ is not minimally qualified, then we can construct $I_2' \subsetneq I_2$ which is minimally qualified. \qed
\end{proof}
Note \lemmaref{min-qual-g} exactly characterizes minimally qualified sets for $G_0$.
















